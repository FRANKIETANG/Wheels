function gotop1(){var i=function(i){this.ct=i,this.target=$('<a class="btn">GoTop</a>'),this.target.css({position:"fixed",right:"100px",bottom:"100px",display:"inline-block",padding:"8px 10px","text-decoration":"none",color:"#000","border-radius":"3px",cursor:"pointer",transition:"all .3s","background-color":"#ff9800",color:"#fff"})};i.prototype.createNode=function(){this.ct.append(this.target),this.target.hide()},i.prototype.bindEvent=function(){var i=this;$(window).on("scroll",function(t){$(window).scrollTop()<100?i.target.hide():i.target.show()}),i.target.on("click",function(){$(window).scrollTop(0)})};var t=new i($(".ct"));t.createNode(),t.bindEvent()}function mods(){var i=document.querySelector(".btn-modal"),t=document.querySelector(".madal-layer"),e=document.querySelector(".close-btn"),n=document.querySelector(".mod");i.addEventListener("click",function(){t.style.display="block"}),e.addEventListener("click",function(){this.style.display="none"}),n.addEventListener("click",function(i){i.stopPropagation(),i.target.classList.contains("close-btn")&&(e.style.display="none")})}function tabs(){var i=document.querySelectorAll(".tab-nav>li"),t=document.querySelectorAll(".tab-content>li");i.forEach(function(e){e.addEventListener("click",function(){i.forEach(function(i){i.classList.remove("active")}),this.classList.add("active");var e=[].indexOf.call(i,this);t.forEach(function(i){i.classList.remove("active")}),t[e].classList.add("active")})})}function water(){function i(i,t){setTimeout(function(){d+=1,t(n.splice(d,20))},500)}function t(){i(d,function(i){function t(n){if(n>3&&i[n]){var o=e(),s=$(".column"+(o+1)),a=new Image;a.src="./images/load.gif",s.append(a),a.onload=function(){a.src=i[n-1],r[o]+=a.height,t((u+=1)+1)}}}function e(){for(var i=0,t=0;t<r.length;t++)r[t]<r[i]&&(i=t);return i}var n=new Image;n.src="./images/load.gif",o.append(n),n.onload=function(){n.src=i[0],r[0]+=n.height,t(++u+1)};var d=new Image;d.src="./images/load.gif",s.append(d),d.onload=function(){d.src=i[1],r[1]+=d.height,t(++u+1)};var l=new Image;l.src="./images/load.gif",a.append(l),l.onload=function(){l.src=i[2],r[2]+=l.height,t(++u+1)}})}function e(i){var t=$(window).height(),e=$(window).scrollTop(),n=i.offset().top,o=i.outerHeight(!0);return t+e>=n&&e<n+o}for(var n=[],o=($(".wrap"),$(".column1")),s=$(".column2"),a=$(".column3"),d=0,l=0;l<1e4;l++){var c=parseInt(400*Math.random()+0,10);n.push("https://uploadbeta.com/api/pictures/random/?key=推女郎&sort="+c)}for(var r=[0,0,0],h=Math.floor($(".wrap").width()/$(".column").width()),l=0;l<h;l++)r[l]=0;var u=0;t(),$(window).on("scroll",function(){e($(".load-more"))&&t()})}var slide=function(){function i(i){this.slideBox=i,this.prev=this.slideBox.find(".prev"),this.next=this.slideBox.find(".next"),this.slideUl=this.slideBox.find(".slide-ul"),this.slideLi=this.slideUl.find("li"),this.sliderIndicator=this.slideBox.find(".slider-indicator"),this.pageIndex=0,this.slideAuto=null,this.isAnimate=!1,this.pageIndocator="",this.init(),this.bindEvent(),this.autoRun()}return i.prototype.init=function(){this.slideLi.css({width:$(window).width()});for(var i=0;i<this.slideLi.length;i++)this.pageIndocator+=i<1?'<i class="active"></i>':"<i></i>";this.sliderIndicator.append(this.pageIndocator),this.imgLength=this.slideUl.children().length,this.cloneLi(),this.resetWidth()},i.prototype.cloneLi=function(){this.lastLi=this.slideUl.find("li").last(),this.firstLi=this.slideUl.find("li").first(),this.slideUl.prepend(this.lastLi.clone()),this.slideUl.append(this.firstLi.clone())},i.prototype.resetWidth=function(){this.windowWidth=$(window).width(),this.countLength=this.slideUl.children().length,this.slideLiWidth=this.windowWidth,this.boxWidth=parseInt(this.countLength*this.slideLiWidth),this.slideUl.css({left:-this.slideBox.width(),width:this.boxWidth})},i.prototype.bindEvent=function(){var i=this;this.len=1,this.slideBox.on("mouseenter",function(){i.slideBox.find(".arrow-btn").show(),clearInterval(i.slideAuto)}),this.slideBox.on("mouseleave",function(){i.slideBox.find(".arrow-btn").hide(),i.autoRun()}),this.sliderIndicator.on("click","i",function(){var t=$(this).index();$(this).addClass("active").siblings().removeClass("active"),i.pageIndex>t?i.prevPage(i.pageIndex-t):i.nextPage(t-i.pageIndex)}),this.prev.on("click",function(){i.prevPage(i.len)}),this.next.on("click",function(){i.nextPage(i.len)})},i.prototype.prevPage=function(i){var t=this;t.isAnimate||(t.isAnimate=!0,t.pageIndex-=i,t.slideUl.animate({left:"+="+i*t.slideLiWidth},function(){t.pageIndex<0&&(t.pageIndex=t.imgLength-1,t.slideUl.css({left:-t.slideLiWidth*t.imgLength})),t.isAnimate=!1,t.slidePage(t.pageIndex)}))},i.prototype.nextPage=function(i){var t=this;t.isAnimate||(t.isAnimate=!0,t.pageIndex+=i,t.slideUl.animate({left:"-="+i*t.slideLiWidth},function(){t.pageIndex>t.imgLength-1&&(t.pageIndex=0,t.slideUl.css({left:-t.slideLiWidth})),t.isAnimate=!1,t.slidePage(t.pageIndex)}))},i.prototype.slidePage=function(){this.sliderIndicator.find("i").removeClass("active").eq(this.pageIndex).addClass("active")},i.prototype.autoRun=function(){var i=this;i.slideAuto=setInterval(function(){i.nextPage(i.len)},3e3)},{init:function(t){t.each(function(t,e){new i($(e))})}}}();slide.init($(".slide-box")),gotop1(),mods(),tabs(),water();