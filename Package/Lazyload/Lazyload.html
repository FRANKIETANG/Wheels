<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    .images{
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        width: 1000px;
        margin: 0 auto;
    }
    .images-wrap{
        margin: 10px;
    }
    </style>
</head>
<body>
    <div class="images">
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=1" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=2" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=3" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=4" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=5" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=6" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=7" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=8" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=9" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=10" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=11" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=12" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=13" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=14" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=15" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=16" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=17" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=18" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=19" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=20" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=21" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=22" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=23" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=24" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=25" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=26" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=27" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=28" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=29" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=30" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=31" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=32" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=33" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=34" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=35" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=36" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=37" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=38" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=39" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=40" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=41" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=42" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=43" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=44" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=45" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=46" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=47" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=48" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=49" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=50" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=51" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=52" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=53" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=54" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=55" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=56" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=57" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=58" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=59" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=60" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=61" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=62" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=63" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=64" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=65" width="300"></div>
        <div class="images-wrap"><img src="image/load.gif" alt="" data-src="https://uploadbeta.com/api/pictures/random/?key=BingEverydayWallpaperPicture&start=66" width="300"></div>  
    </div>
    <div class="text">加载完～</div>
    <!--(div.images-wrap>img[src=https://uploadbeta.com/api/pictures/random/?key=%E6%8E%A8%E5%A5%B3%E9%83%8E&sort=$ width=300])*5000-->
    <script src="https://code.jquery.com/jquery-1.9.1.js"></script>
    <script>

    var exposure = (function(){
        var winHeight = window.innerHeight

        function Exposure($nodes,callback,onlyonce){
            this.$nodes = $nodes
            this.callback = callback
            this.onlyonce = onlyonce
            this.bind()
            this.checkShow()
        }

        Exposure.prototype.bind = function(){
            var _this = this
            $(window).on('scroll',function(){
                if(_this.clock){
                    clearTimeout(_this.clock)
                }
                _this.clock = setTimeout(function(){
                    console.log(_this.clock)
                    _this.checkShow()
                },300)
            })
        }
        
        Exposure.prototype.checkShow = function(){
            var _this = this
            this.$nodes.each(function(){
                var $cur = $(this)
                if(_this.isInView($cur)){
                    switch (_this.onlyonce){
                        case true:
                            if(!_this.isLoaded($cur)){
                                _this.callback($cur)
                                $cur.data('loaded',true)
                            }
                            break
                        case false:
                            _this.callback($cur)
                            break
                    }
                }
            })
        }

        Exposure.prototype.isInView = function($node){
            var nodeHeight = $node.outerHeight()
            var offsetTop = $node.offset().top
            var scrollTop = $(window).scrollTop()
            return offsetTop < winHeight + scrollTop && offsetTop + nodeHeight > scrollTop
        }

        Exposure.prototype.isLoaded = function($node){
            return $node.data('loaded') || false
        }

        return {
            one: function($nodes,callback){
                new Exposure($nodes,callback,true)
            },
            init: function($nodes,callback){
                new Exposure($nodes,callback,false)
            }
        }
    })()

    exposure.one($('.images img'),function($node){
        $node.attr('src',$node.data('src')) //这里是 HTML5 data-* 属性，详情可看jQuery文档。
    })
    exposure.init($('.text'),function($node){
        $node.text($node.text() + '加载完～')
    })
/*    
    $(function(){
        var clock
        $(window).on('scroll',function(){
            if(clock){
                clearTimeout(clock)
            }
            clock = setTimeout(function(){
                console.log(clock)
                lazyRender()
            },300)
        })

        function isBeingShow($img) {
            var windowHeight = $(window).height()
            var scrollTop = $(window).scrollTop()
            var offsetTop = $img.offset().top
            if(offsetTop < windowHeight + scrollTop && offsetTop > scrollTop){
                return true
            }
            return false
        }

        function lazyRender() {
            $('.images-wrap img').filter('[data-src]').each(function(){
                if(isBeingShow($(this))){
                    $(this).attr('src',$(this).attr('data-src'))
                    $(this).removeAttr('data-src')
                }
            })
        }
        $(window).trigger('scroll')
    })
*/
    </script>
</body>
</html>